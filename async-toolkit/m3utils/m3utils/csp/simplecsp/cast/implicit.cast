module implicit;

int WIDTH=32;

define P0()(bd(WIDTH) +R)
{
  csp {
    *[ R!0 ]
  }
}

define P1()(bd(WIDTH) -L)
{
  csp {
    x = 0;
    *[ [  x==0 -> int y; L?y; print(y)
       [] x==1 -> bool y; L?y; print(y)
       ];

       x = 1 - x
     ]
  }
}

define SYSTEM()()
{
  subcells {
    bd(WIDTH) c;
    P0() p0(c);
    P1() p1(c);
  }
}
