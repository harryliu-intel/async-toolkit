<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE config PUBLIC "-//Fulcrum Microsystems//DTD DefaultCommands/EN" "DefaultCommands.dtd">
<!--
    vim:autoindent:et:sw=4:ts=4:tw=79:
-->

<config>
    <command>
        <name>set</name>

        <command>
            <name>switch</name>

            <command>
                <name>config</name>

                <command>
                    <name>priority-map</name>
                    <help>set properties related to the different priority-maps</help>

                    <command>
                        <name>swpri-to-tc</name>
                        <help>Map internal switch priority to traffic class</help>
                        <handler>tpHandleSetSwitchMapSwpriToTc</handler>

                        <argument>
                            <name>!&lt;swpri&gt;</name>
                            <help>Internal switch priority from 0-15</help>

                            <argument>
                                <filter type="family">
                                    <deny>FM2000</deny>
                                </filter>
                                <name>!&lt;tc&gt;</name>
                                <help>Traffic class from 0-7</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Map internal switch priority to traffic class</help>
                                </argument>

                            </argument>

                            <argument>
                                <filter type="family">
                                    <deny>FM4000</deny>
                                </filter>
                                <name>!&lt;tc&gt;</name>
                                <help>Traffic class from 0-3</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Map internal switch priority to traffic class</help>
                                </argument>

                            </argument>

                        </argument>

                    </command>

                    <command>
                        <filter type="family">
                            <allow>FM4000</allow>
                        </filter>
                        <name>vpri-to-swpri</name>
                        <help>Map internal 802.1Q priority to internal switch priority</help>
                        <handler>tpFM4000HandleSetSwitchMapVpriToSwpri</handler>

                        <argument>
                            <name>!&lt;vpri&gt;</name>
                            <help>Internal 802.1q priority from 0-15</help>

                            <argument>
                                <name>!&lt;swpri&gt;</name>
                                <help>Internal switch priority from 0-15</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Map internal 802.1Q priority to internal switch priority</help>
                                </argument>

                            </argument>

                        </argument>

                    </command>

                    <command>
                        <filter type="family">
                            <allow>FM6000</allow>
                        </filter>
                        <name>vpri1-to-swpri</name>
                        <help>Map internal vlan1 802.1Q priority to internal switch priority</help>
                        <handler>tpFM6000HandleSetSwitchMapVpri1ToSwpri</handler>

                        <argument>
                            <name>!&lt;vpri&gt;</name>
                            <help>Internal 802.1q priority from 0-15</help>

                            <argument>
                                <name>!&lt;swpri&gt;</name>
                                <help>Internal switch priority from 0-15</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Map internal 802.1Q priority to internal switch priority</help>
                                </argument>

                            </argument>

                        </argument>

                    </command>

                    <command>
                        <filter type="family">
                            <allow>FM6000</allow>
                        </filter>
                        <name>vpri2-to-swpri</name>
                        <help>Map internal vlan2 802.1Q priority to internal switch priority</help>
                        <handler>tpFM6000HandleSetSwitchMapVpri2ToSwpri</handler>

                        <argument>
                            <name>!&lt;vpri&gt;</name>
                            <help>Internal 802.1q priority from 0-15</help>

                            <argument>
                                <name>!&lt;swpri&gt;</name>
                                <help>Internal switch priority from 0-15</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Map internal 802.1Q priority to internal switch priority</help>
                                </argument>

                            </argument>

                        </argument>

                    </command>

                    <command>
                        <filter type="family">
                            <deny>FM2000</deny>
                        </filter>
                        <name>dscp-to-swpri</name>
                        <help>Map IP DSCP to internal switch priority</help>
                        <handler>tpHandleSetSwitchMapDscpToSwpri</handler>

                        <argument>
                            <name>!&lt;dscp&gt;</name>
                            <help>IP DSCP field from 0-63</help>

                            <argument>
                                <name>!&lt;swpri&gt;</name>
                                <help>Internal switch priority from 0-15</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Map IP DSCP to internal switch priority</help>
                                </argument>

                            </argument>

                        </argument>

                    </command>

                </command>
            </command>
        </command>

        <command>
            <name>port</name>

            <command>
                <name>config</name>

                <command>
                    <filter type="family">
                        <allow>FM4000</allow>
                        <allow>FM6000</allow>
                    </filter>
                    <name>priority-source</name>
                    <help>set the sources for the internal switch priority</help>
                    <handler>tpHandleSetPortSwpriSource</handler>

                    <argument>
                        <name>!&lt;port&gt;</name>
                        <help>A port number, list, range, or combination thereof</help>

                        <argument>
                            <name>vlan</name>
                            <help>From internal VLAN1 priority</help>

                            <argument> 
                                <name>on</name>
                                <help>Enable acquiring the switch priority from VLAN1 priority</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Enable acquiring the switch priority from VLAN1 priority</help>
                                </argument>
                            </argument>
                            <argument> 
                                <name>off</name>
                                <help>Disable acquiring the switch priority from VLAN1 priority</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Disable acquiring the switch priority from VLAN1 priority</help>
                                </argument>
                            </argument>
                            <argument> 
                                <name>preferred</name>
                                <help>Enable preferring VLAN priority over DSCP</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Enable preferring VLAN priority over DSCP</help>
                                </argument>
                            </argument>
                        </argument>

                        <argument>
                            <filter type="family">
                                <allow>FM6000</allow>
                            </filter>

                            <name>vlan2</name>
                            <help>From internal VLAN2 priority</help>

                            <argument> 
                                <name>on</name>
                                <help>Enable acquiring the switch priority from VLAN2 priority</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Enable acquiring the switch priority from VLAN2 priority</help>
                                </argument>
                            </argument>
                            <argument> 
                                <name>off</name>
                                <help>Disable acquiring the switch priority from VLAN2 priority</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Disable acquiring the switch priority from VLAN2 priority</help>
                                </argument>
                            </argument>
                            <argument> 
                                <name>preferred</name>
                                <help>Enable preferring VLAN priority over DSCP</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Enable preferring VLAN priority over DSCP</help>
                                </argument>
                            </argument>
                        </argument>

                        <argument>
                            <name>dscp</name>
                            <help>From the IP DSCP field</help>

                            <argument> 
                                <name>on</name>
                                <help>Enable acquiring the switch priority from the IP DSCP field</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Enable acquiring the switch priority from the IP DSCP field</help>
                                </argument>
                            </argument>
                            <argument> 
                                <name>off</name>
                                <help>Disable acquiring the switch priority from the IP DSCP field</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Disable acquiring the switch priority from the IP DSCP field</help>
                                </argument>
                            </argument>
                            <argument> 
                                <name>preferred</name>
                                <help>Enable preferring DSCP over 802.1q priority</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Enable preferring DSCP over 802.1q priority</help>
                                </argument>
                            </argument>
                        </argument>

                        <argument>
                            <name>isl</name>
                            <help>Enable acquiring the switch priority from the ISL tag</help>

                            <argument> 
                                <name>on</name>
                                <help>Enable acquiring the switch priority from the ISL tag</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Enable acquiring the switch priority from the ISL tag</help>
                                </argument>
                            </argument>
                            <argument> 
                                <name>off</name>
                                <help>Disable acquiring the switch priority from the ISL tag</help>

                                <argument>
                                    <name>!&lt;cr&gt;</name>
                                    <help>Disable acquiring the switch priority from the ISL tag</help>
                                </argument>
                            </argument>
                        </argument>
                    </argument>
                </command>

                <command>
                    <name>priority-map</name>
                    <help>set properties related to the different priority-maps</help>

                    <command>
                        <filter type="family">
                            <allow>FM4000</allow>
                        </filter>
                        <name>ingress-pri-to-vpri</name>
                        <help>Map ingress 802.1Q priority to internal 802.1Q priority</help>
                        <handler>tpFM4000HandleSetPortMapInpriToVpri</handler>

                        <argument>
                            <name>!&lt;port&gt;</name>
                            <help>A port number, list, range, or combination thereof</help>
                        
                            <argument>
                                <name>!&lt;ingress-pri&gt;</name>
                                <help>Ingress 802.1q priority from 0-15</help>

                                <argument>
                                    <name>!&lt;vpri&gt;</name>
                                    <help>Internal 802.1q priority from 0-15</help>

                                    <argument>
                                        <name>!&lt;cr&gt;</name>
                                        <help>Map ingress 802.1Q priority plus CFI
                                        to internal 802.1Q priority plus CFI</help>
                                    </argument>

                                </argument>

                            </argument>

                        </argument>

                    </command>

                    <command>
                        <filter type="family">
                            <allow>FM2000</allow>
                        </filter>
                        <name>ingress-pri-to-swpri</name>
                        <help>Map ingress 802.1Q priority to internal switch priority</help>
                        <handler>tpFM2000HandleSetPortMapInpriToSwpri</handler>

                        <argument>
                            <name>!&lt;port&gt;</name>
                            <help>A port number, list, range, or combination thereof</help>
                        
                            <argument>
                                <name>!&lt;ingress-pri&gt;</name>
                                <help>Ingress 802.1q priority from 0-15</help>

                                <argument>
                                    <name>!&lt;swpri&gt;</name>
                                    <help>Internal switch priority from 0-15</help>

                                    <argument>
                                        <name>!&lt;cr&gt;</name>
                                        <help>Map ingress 802.1Q priority plus CFI to internal switch priority</help>
                                    </argument>

                                </argument>

                            </argument>

                        </argument>

                    </command>

                    <command>
                        <filter type="family">
                            <allow>FM4000</allow>
                        </filter>
                        <name>vpri-to-egress-pri</name>
                        <help>Map internal 802.1Q priority to egress 802.1Q priority</help>
                        <handler>tpFM4000HandleSetPortMapVpriToEgpri</handler>

                        <argument>
                            <name>!&lt;port&gt;</name>
                            <help>A port number, list, range, or combination thereof</help>
                        
                            <argument>
                                <name>!&lt;vpri&gt;</name>
                                <help>Ingress 802.1q priority plus CFI from 0-15</help>

                                <argument>
                                    <name>!&lt;egress-pri&gt;</name>
                                    <help>Egress 802.1q priority plus CFI from 0-15</help>

                                    <argument>
                                        <name>!&lt;cr&gt;</name>
                                        <help>Map internal 802.1Q priority plus CFI to external 802.1Q priority plus CFI</help>
                                    </argument>

                                </argument>

                            </argument>

                        </argument>

                    </command>

                    <command>
                        <filter type="family">
                            <allow>FM2000</allow>
                        </filter>
                        <name>swpri-to-egress-pri</name>
                        <help>Map internal switch priority to external 802.1q priority</help>
                        <handler>tpFM2000HandleSetPortMapSwpriToEgpri</handler>

                        <argument>
                            <name>!&lt;port&gt;</name>
                            <help>A port number, list, range, or combination thereof</help>
                        
                            <argument>
                                <name>!&lt;swpri&gt;</name>
                                <help>Internal switch priority from 0-15</help>

                                <argument>
                                    <name>!&lt;vpri&gt;</name>
                                    <help>External 802.1Q priority from 0-7</help>

                                    <argument>
                                        <name>!&lt;cr&gt;</name>
                                        <help>Map internal switch priority to external 802.1q priority</help>
                                    </argument>

                                </argument>

                            </argument>

                        </argument>

                    </command>

                    <command>
                        <filter type="family">
                            <allow>FM6000</allow>
                        </filter>
                        <name>ingress-vpri</name>
                        <help>Map ingress 802.1Q priority to internal 802.1Q priority</help>
                        <handler>tpFM6000HandleSetPortMapInpriToVpri</handler>

                        <argument>
                            <name>!&lt;vpri-tag&gt;</name>
                            <help>Mapping for VLAN1 priority (vpri1) or Mapping for VLAN2 priority (vpri2)</help>

                            <argument>
                                <name>!&lt;port&gt;</name>
                                <help>A port number, list, range, or combination thereof</help>
                            
                                <argument>
                                    <name>!&lt;ingress-pri&gt;</name>
                                    <help>Ingress 802.1q priority from 0-15</help>
    
                                    <argument>
                                        <name>!&lt;vpri&gt;</name>
                                        <help>Internal 802.1q priority from 0-15</help>
    
                                        <argument>
                                            <name>!&lt;cr&gt;</name>
                                            <help>Map ingress 802.1Q priority plus CFI
                                            to internal 802.1Q priority plus CFI</help>
                                        </argument>
    
                                    </argument>
    
                                </argument>
    
                            </argument>

                        </argument>

                    </command>

                </command>
            </command>
        </command>
    </command>

    <command>
        <name>show</name>

        <command>
            <name>switch</name>

            <command>
                <name>config</name>

                <command>
                    <name>priority-map</name>
                    <help>Show the different global priority mapping tables</help>
                    <handler>tpHandleShowSwitchPriMap</handler>

                    <argument>
                        <name>!&lt;cr&gt;</name>
                        <help>Show the different global priority mapping tables</help>
                    </argument>
                </command>
            </command>
        </command>
            
        <!-- show port -->
        <command>
            <name>port</name>

            <command>
                <name>config</name>

                <!-- show port config <port> priority-map -->
                <command>
                    <name>priority-map</name>
                    <help>Show the different global priority mapping tables</help>
                    <handler>tpHandleShowPortPriMap</handler>

                    <argument>
                        <name>!&lt;port&gt;</name>
                        <help>A port number, list, range, or combination thereof</help>
                        
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Show the different global priority mapping tables</help>
                        </argument>
                    </argument>

                </command>
            </command>
        </command>
    </command>

</config>
