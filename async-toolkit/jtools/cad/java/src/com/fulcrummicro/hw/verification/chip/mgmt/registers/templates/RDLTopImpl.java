// Autogenerated Jamon implementation
// /nfs/sc/proj/ctg/mrl108/rliu68/sw-intel5/cad/java/src/./com/fulcrummicro/hw/verification/chip/mgmt/registers/templates/RDLTop.jamon

package com.fulcrummicro.hw.verification.chip.mgmt.registers.templates;

// 3, 1
import java.lang.Integer;
// 4, 1
import java.util.Collection;
// 5, 1
import com.fulcrummicro.hw.verification.lib.bitarray.LittleEndianBitArray;
// 6, 1
import com.fulcrummicro.util.misc.Utility;
// 7, 1
import com.fulcrummicro.hw.verification.chip.mgmt.registers.*;

public class RDLTopImpl
  extends com.fulcrummicro.util.jamon.timestampImpl
  implements com.fulcrummicro.hw.verification.chip.mgmt.registers.templates.RDLTop.Intf

{
  private final Collection<RegisterBase> bases;
  private final Collection<Register> regs;
  protected static com.fulcrummicro.hw.verification.chip.mgmt.registers.templates.RDLTop.ImplData __jamon_setOptionalArguments(com.fulcrummicro.hw.verification.chip.mgmt.registers.templates.RDLTop.ImplData p_implData)
  {
    com.fulcrummicro.util.jamon.timestampImpl.__jamon_setOptionalArguments(p_implData);
    return p_implData;
  }
  public RDLTopImpl(org.jamon.TemplateManager p_templateManager, com.fulcrummicro.hw.verification.chip.mgmt.registers.templates.RDLTop.ImplData p_implData)
  {
    super(p_templateManager, __jamon_setOptionalArguments(p_implData));
    bases = p_implData.getBases();
    regs = p_implData.getRegs();
  }
  
  @Override protected void child_render_1(final java.io.Writer jamonWriter)
    throws java.io.IOException
  {
    // 13, 1
    jamonWriter.write("// INTEL TOP SECRET\n// Copyright ");
    // 14, 14
    {
      // 14, 14
      __jamon_innerUnit__copyright_year(jamonWriter, __jamon__get_Method_Opt_creationYear_default());
    }
    // 14, 35
    jamonWriter.write(" Intel Corporation. All Rights Reserved.\n//\n`include \"lib_udp.rdl\"\n");
    // 17, 1
    for (RegisterBase base : bases )
    {
      // 17, 35
      jamonWriter.write("`include \"");
      // 18, 11
      org.jamon.escaping.Escaping.HTML.write(org.jamon.emit.StandardEmitter.valueOf(base.getName().toLowerCase()), jamonWriter);
      // 18, 45
      jamonWriter.write(".rdl\"\n");
    }
    // 19, 8
    jamonWriter.write("\n\naddrmap top_map {\n  name = \"TOP\";\n  desc = \"Top-Level Address Map\";\n  addressing = fullalign;\n  Space = \"MEM\";\n  \n");
    // 28, 1
    for (RegisterBase base : bases )
    {
      // 28, 35
      jamonWriter.write("  ");
      // 29, 3
      org.jamon.escaping.Escaping.HTML.write(org.jamon.emit.StandardEmitter.valueOf(base.getName()), jamonWriter);
      // 29, 23
      jamonWriter.write("_map ");
      // 29, 28
      org.jamon.escaping.Escaping.HTML.write(org.jamon.emit.StandardEmitter.valueOf(base.getName().toLowerCase()), jamonWriter);
      // 29, 62
      jamonWriter.write(" @0x");
      // 29, 66
      org.jamon.escaping.Escaping.HTML.write(org.jamon.emit.StandardEmitter.valueOf(String.format("%05X", base.getAbsoluteAddress()*4)), jamonWriter);
      // 29, 122
      jamonWriter.write(";\n");
    }
    // 30, 8
    jamonWriter.write("};\n");
  }
  
  
}
