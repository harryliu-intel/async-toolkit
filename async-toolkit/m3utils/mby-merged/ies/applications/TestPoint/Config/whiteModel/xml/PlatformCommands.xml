<config>

<!-- set -->
<command>
    <name>set</name>
    <help>Set a property</help>
    <!-- set mac -->
    <command>
        <name>mac</name>
        <help>Set MA Table related properties</help>

        <command>
            <name>config</name>
            <help>Set MA Table configuration properties</help>

            <argument>
                <name>sweepPeriod</name>
                <help>Set MAC Table sweep period</help>

                <argument>
                    <name>!&lt;time&gt;</name>
                    <help>Full table sweep time in microseconds or zero to disable</help>
                    <argument>
                        <name>!&lt;cr&gt;</name>
                        <help>Set MAC Table sweep period</help>
                    </argument>
                </argument>
            </argument>

        </command>  <!-- config -->
    </command>  <!-- mac -->

    <!-- set topology -->
    <command>
        <name>topology</name>
        <help>Set a multi-switch model topology</help>
        <description>
            Multiple white model instances can be logically connected together
            to create a virtual multi-switch system. This command processes a
            multi-switch topology file that specifies the connections between
            switches. This text file specifies one connection per line. The
            format of each line is: Unit1,Switch1,Port1,Unit2,Switch2,Port2 and
            represents the connection between a port on one switch and a port
            on another switch. A unit is an instance of TestPoint (and the 
            FocalPoint API), so that a topology may consist of multiple switches
            managed by one instance of TestPoint and the API, multiple switches
            each managed by its own instance of TestPoint and the API, or a 
            combination of the two. See the FocalPoint API User Guide, section 
            "Multiple Model Environments" for more information.
        </description>
        <handler>handleWModelTopology</handler>
        <argument>
            <name>!&lt;file&gt;</name>
            <help>Topology configuration file name</help>
            <argument>
                <name>!&lt;cr&gt;</name>
                <help>Set the specified topology</help>
            </argument>
        </argument>

    </command>  <!-- topology -->
</command>  <!-- set -->

<command>
    <!-- wmodel -->
    <name>packet</name>
    <command>
        <!-- wmodel send {portList} -->
        <name>send</name>
        <command>
            <!-- wmodel send {portList} -->
            <name>wmodel</name>
            <help>Send packets into white model switch ports</help>
                <handler>handleWModelSend</handler>         
            <argument>
                <name>!&lt;port&gt;</name>
                <help>Switch port or list of ports</help>
                <argument>
                    <name>!&lt;cr&gt;</name>
                    <help>Send 64-byte packet, filling in the payload as needed</help>
                </argument>
                <argument>
                    <name>!&lt;length&gt;</name>
                    <help>The packet length in bytes</help>

                    <argument>
                        <name>!&lt;cr&gt;</name>
                        <help>Send the packet, filling in the payload as needed</help>
                    </argument>
                    <argument>
                        <name>!&lt;DMAC&gt;</name>
                        <help>Destination MAC: XX:XX:XX:XX:XX:XX or uX or mX or b</help>

                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Send the packet, filling in the payload as needed</help>
                        </argument>
                        <argument>
                            <name>!&lt;SMAC&gt;</name>
                            <help>Source MAC: XX:XX:XX:XX:XX:XX or uX or mX or b</help>

                            <argument>
                                <name>!&lt;cr&gt;</name>
                                <help>Send the packet, filling in the payload as needed</help>
                            </argument>
                            
                            <argument>
                                <name>vtag</name>
                                <help>The VLAN tag</help>
                            
                                <argument>
                                    <name>!&lt;VID&gt;</name>
                                    <help>The VLAN ID</help>
                                    
                                    <argument>
                                        <name>!&lt;VPRI&gt;</name>
                                        <help>The VLAN priority</help>
                                        
                                        <argument>
                                            <name>!&lt;cr&gt;</name>
                                            <help>Send the packet, filling in the payload as needed</help>
                                        </argument>
                                        <argument>
                                            <name>ethtype</name>
                                            <help>The Ethernet type</help>
                                            
                                            <argument>
                                                <name>!&lt;type&gt;</name>
                                                <help>The Ethernet type value in hex</help>
                                                
                                                <argument>
                                                    <name>!&lt;cr&gt;</name>
                                                    <help>Send the packet, filling in the payload as needed</help>
                                                </argument>
                                            </argument>     <!-- type-->
                                        </argument>     <!-- ethtype-->
                                    </argument>     <!-- VPRI-->
                                </argument>     <!-- VID -->
                            </argument>     <!-- vtag -->
                            
                            <argument>
                                <name>ethtype</name>
                                <help>The Ethernet type</help>
                                
                                <argument>
                                    <name>!&lt;type&gt;</name>
                                    <help>The Ethernet type value in hex</help>
                                    
                                    <argument>
                                        <name>!&lt;cr&gt;</name>
                                        <help>Send the packet, filling in the payload as needed</help>
                                    </argument>
                                </argument>     <!-- type-->
                            </argument>     <!-- ethtype-->
                        </argument>     <!-- SMAC -->
                    </argument>     <!-- DMAC -->
                </argument>     <!-- length -->
                
                <argument>
                    <name>keys</name>
                    <help>Specify fields in 'key=value' form</help>
                    <argument>
                        <name>!&lt;key=value&gt;</name>
                        <help>keys: dmac, smac, l (length), vid, vpri, type</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Send the packet</help>
                        </argument>
                    </argument>
                </argument> <!-- keys -->
                <!-- packet send file-pcap -->
                <argument>
                    <name>file-pcap</name>
                    <help>Send a stream of packets from a PCAP tracefile</help>
                    <argument>
                        <name>!&lt;filename&gt;</name>
                        <help>The pcap file name</help>
                        <argument>
                            <name>ignore-timestamps</name>
                            <help>Ignore tracefile timing info; transmit as fast as possible</help>
                            <argument>
                                <name>!&lt;cr&gt;</name>
                                <help>Replay the PCAP file without timing</help>
                            </argument>
                        </argument>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Replay the PCAP file with tracefile timing</help>
                        </argument>
                    </argument>
                </argument>  <!-- end packet send file-pcap -->
            </argument> <!-- port -->
        </command>  <!-- wmodel -->
    </command>  <!-- send -->
</command>  <!-- packet -->

<!-- show -->   
<command>
    <!-- show -->
    <name>show</name>
    <help>Show a property</help>
    <command>
        <!-- show wmodel -->
        <name>wmodel</name>
        <help>Show White Model information</help>
        <command>
            <name>stats</name>
            <help>Show stats on server</help>
            <handler>handleWModelShowStats</handler>
            <argument>
                <name>!&lt;cr&gt;</name>
                <help>Show stats</help>
            </argument>
        </command>
        <command>
            <name>packets</name>
            <help>Display packets as they are sent or received</help>
            <handler>handleWModelShowPackets</handler>
            <argument>
                <name>on</name>
                <help>Display packets as they are sent or received</help>
                <argument>
                    <name>!&lt;cr&gt;</name>
                    <help>Enable showing packets</help>
                </argument>
            </argument>
            <argument>
                <name>off</name>
                <help>Do not display packets as they are sent or received</help>
                <argument>
                    <name>!&lt;cr&gt;</name>
                    <help>Disable showing packets</help>
                </argument>
            </argument>
        </command>
        <command>
            <name>capture</name>
            <help>Dump history of captured packets</help>
            <handler>handleWModelShowCapture</handler>
            <argument>
                <name>!&lt;cr&gt;</name>
                <help>Show packets captured</help>
            </argument>
        </command>
        <!-- show wmodel dbg -->
        <command>
            <name>dbg</name>
            <help>Show debug dumps</help>

            <command>
                <name>l2l-sweepers</name>
                <help>Show L2L sweeper configuration</help>
                <handler>handleShowL2lSweepers</handler>

                <argument>
                    <name>!&lt;cr&gt;</name>
                    <help>Dump without registers</help>
                </argument>
                <argument>
                    <name>with-regs</name>
                    <help>Dump with registers</help>
                    <argument>
                        <name>!&lt;cr&gt;</name>
                        <help>Show L2L sweeper configuration</help>
                    </argument>
                </argument> <!-- with-regs -->
            </command>  <!-- l2l-sweepers -->
        </command>  <!-- show wmodel dbg -->
    </command>  <!-- show wmodel -->
</command>  <!-- show -->

<!-- set ring-mode -->   
<command>
    <name>set</name>
    <command>
        <name>ring-mode</name>
        <help>Set ring mode</help>
        <handler>handleSetRing</handler>
        <argument>
            <name>!&lt;RingMode&gt;</name>
            <help>Set ring mode (used for debugging scheduler configs)</help>
            <argument>
                <name>!&lt;cr&gt;</name>
                <help>Set ring mode</help>
            </argument>
        </argument>
    </command>  <!-- end set ring-mode -->
</command>  <!-- end set -->

</config>
