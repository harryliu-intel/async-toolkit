#/usr/bin/csh -ef
#-*- shell-script -*-              For EMACS -- lets formatting happen

setenv REPO_ROOT $MODEL_ROOT

setenv NATURAL_DOCS_EXEC `ToolConfig.pl get_tool_exec NaturalDocs`

set InputDir = "${REPO_ROOT}/verif"
set DocDir   = "${InputDir}/doc"

# make NaturalDocs directory if it doesn't already exist
mkdir -p ${REPO_ROOT}/target/NaturalDocs

# create exclude list
set exclude_list = ${DocDir}                            # default if no list
if ( -e ${DocDir}/ndoc_excludes ) then
   set exclude_list = ( `cat $DocDir/ndoc_excludes` )   # get list of excludes
   set exclude_list = ( `eval echo $exclude_list` )     # expand $REPO_ROOT/dir -> <path>/dir 
endif

set cmd = "$NATURAL_DOCS_EXEC --input ${InputDir} ${exclude_list} --project ${DocDir} --output HTML ${REPO_ROOT}/target/NaturalDocs --style Small -r"
echo "Running: $cmd"
$cmd

 
