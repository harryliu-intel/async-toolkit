<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE config PUBLIC "-//Fulcrum Microsystems//DTD DefaultCommands/EN" "DefaultCommands.dtd">
<!--
    vim:autoindent:et:sw=4:ts=4:tw=79:
-->

<config>
    <command>
        <name>show</name>

        <!-- show mirror -->
        <command>
            <name>mirror</name>
            <help>Show the detailed configuration of the Mirroring Groups</help>
            <handler>tpHandleShowMirror</handler>

            <argument>
                <name>!&lt;group id&gt;</name>
                <help>A Mirroring Group ID from 0-3</help>
                <argument>
                      <name>!&lt;cr&gt;</name>
                      <help>Show the detailed configuration of the Port Mirroring Groups</help>
                </argument>
            </argument>
        </command>  <!-- end show mirror -->
    </command>

    <command>
        <name>del</name>

        <!-- del mirror -->
        <command>
            <name>mirror</name>
            <help>Delete a Mirroring Group condition</help>
            <command>
                <name>port</name>
                <help>Delete ports from a Mirroring Group</help>
                <handler>tpHandleMirrorDeletePort</handler>
                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
                    <argument>
                        <name>!&lt;port&gt;</name>
                        <help>A port number, list, range, or combination thereof</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Delete given ports from a Mirroring Group</help>
                        </argument>
                    </argument>
                </argument>
            </command>

            <command>
                <name>group</name>
                <help>Delete a Mirroring Group and all its ports</help>
                <handler>tpHandleDeleteMirror</handler>
                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
                </argument>
            </command>

            <command>
                <filter type="family">
                    <deny>FM2000</deny>
                    <deny>FM4000</deny>
                </filter>
                <name>vlan1</name>
                <help>Delete VLAN1s from a Mirroring Group</help>
                <handler>tpHandleMirrorDeleteVlan</handler>
                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
                    <argument>
                        <name>!&lt;vlan&gt;</name>
                        <help>A VLAN1 id, list, range, or combination  thereof</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Delete VLAN1s from a Mirroring Group</help>
                        </argument>
                    </argument>
                </argument>
            </command>

            <command>
                <filter type="family">
                    <deny>FM2000</deny>
                    <deny>FM4000</deny>
                </filter>
                <name>vlan2</name>
                <help>Delete VLAN2s from a Mirroring Group</help>
                <handler>tpHandleMirrorDeleteVlan2</handler>
                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
                    <argument>
                        <name>!&lt;vlan&gt;</name>
                        <help>A VLAN2 id, list, range, or combination thereof</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Delete VLAN2s from a Mirroring Group</help>
                        </argument>
                    </argument>
                </argument>
            </command>
        </command>  <!-- end del mirror -->
    </command>

    <command>
        <name>create</name>
        <!-- create mirror -->
        <command>
            <name>mirror</name>
            <help>Create a Mirroring Group</help>
            <handler>tpHandleCreateMirror</handler>

            <argument>
                <name>!&lt;group id&gt;</name>
                <help>The Mirroring Group Id to create from 0-3</help>
    
                <argument>
                    <name>!&lt;monitor-port&gt;</name>
                    <help>A single port to forward mirrored frames to</help>
    
                    <argument>
                        <name>egress</name>
                        <help>Create an egress mirror</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Create an egress mirror with the given monitor port</help>
                        </argument>
                    </argument>
                    <argument>
                        <name>ingress</name>
                        <help>Create an ingress mirror</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Create an ingress mirror with the given monitor port</help>
                        </argument>
                    </argument>
                     <argument>
                        <name>bi-directional</name>
                        <help>Create a bi-directional mirror</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Create a bi-directional mirror with the given monitor port</help>
                        </argument>
                    </argument>
                     <argument>
                        <name>redirect</name>
                        <help>Create a redirect mirror</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Create a redirect mirror with the given monitor port</help>
                        </argument>
                    </argument>
                    <argument>
                        <filter type="family">
                            <deny>FM2000</deny>
                            <deny>FM4000</deny>
                        </filter>
                        <name>tx-egress</name>
                        <help>Create a tx-egress mirror</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Create a tx-egress mirror with the given monitor port</help>
                        </argument>
                    </argument>
                    <argument>
                        <filter type="family">
                            <deny>FM2000</deny>
                            <deny>FM4000</deny>
                        </filter>
                        <name>rx-ingress-tx-egress</name>
                        <help>Create an rx-ingress-tx-egress mirror</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Create a rx-ingress-tx-egress mirror with the given monitor port</help>
                        </argument>
                    </argument>
               </argument>
            </argument>
        </command>
    </command>

    <command>
        <name>add</name>
        <!-- add mirror -->
        <command>
            <name>mirror</name>
            <help>Adds a Mirroring Group condition</help>
            <command>
                <name>port</name>
                <help>Adds ports to a Mirroring Group</help>
                <handler>tpHandleMirrorAddPort</handler>

                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
        
                    <argument>
                        <name>!&lt;port&gt;</name>
                        <help>A port number, list, range, or combination thereof</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Add ports to the Mirroring Group</help>
                        </argument>
                        <argument>
                            <name>!&lt;type&gt;</name>
                            <help>Optional type of this port. Can be either ingress, egress or bi-directional</help>
                            <argument>
                                <name>!&lt;cr&gt;</name>
                                <help>Add ports to the Mirroring Group</help>
                            </argument>
                        </argument>
                    </argument>
                </argument>
            </command>

            <command>
                <filter type="family">
                    <deny>FM2000</deny>
                    <deny>FM4000</deny>
                </filter>
                <name>vlan1</name>
                <help>Adds VLAN1s to a Mirroring Group</help>
                <handler>tpHandleMirrorAddVlan</handler>

                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
        
                    <argument>
                        <name>!&lt;vlan&gt;</name>
                        <help>A VLAN1 id, list, range, or combination thereof</help>
                        <argument>
                            <name>!&lt;type&gt;</name>
                            <help>VLAN direction to mirror. Can be either ingress, egress or bi-directional</help>
                            <argument>
                                <name>!&lt;cr&gt;</name>
                                <help>Add VLAN1s to the Mirroring Group</help>
                            </argument>
                        </argument>
                    </argument>
                </argument>
            </command>

            <command>
                <filter type="family">
                    <deny>FM2000</deny>
                    <deny>FM4000</deny>
                </filter>
                <name>vlan2</name>
                <help>Adds VLAN2s to a Mirroring Group</help>
                <handler>tpHandleMirrorAddVlan2</handler>

                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
        
                    <argument>
                        <name>!&lt;vlan&gt;</name>
                        <help>A VLAN2 id, list, range, or combination thereof</help>
                        <argument>
                            <name>!&lt;type&gt;</name>
                            <help>VLAN direction to mirror. Can be either ingress, egress or bi-directional</help>
                            <argument>
                                <name>!&lt;cr&gt;</name>
                                <help>Add VLAN2s to the Mirroring Group</help>
                            </argument>
                        </argument>
                    </argument>
                </argument>
            </command>
        </command>  <!-- end add mirror -->
    </command>

    <command>
        <name>set</name>

        <!-- set mirror -->
        <command>
            <filter type="family">
                <deny>FM2000</deny>
                <deny>FM4000</deny>
            </filter>
            <name>mirror</name>
            <help>Set mirror group configuration</help>
            <handler>tpHandleMirrorAttribute</handler>
            <argument>
                <name>dest</name>
                <help>Override monitor port of a Mirroring Group</help>
                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
                    <argument>
                        <name>!&lt;port&gt;</name>
                        <help>A port number, list, range, or combination thereof</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure monitor port for the Mirroring Group</help>
                        </argument>
                    </argument>
                </argument>
            </argument>

            <argument>
                <name>priority</name>
                <help>The priority traffic class for the mirrored frame sent</help>
                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
                    <argument>
                        <name>!&lt;priority&gt;</name>
                        <help>Traffic class from 0 to 15</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure the traffic class priority for given Mirroring Group</help>
                        </argument>
                    </argument>
                    <argument>
                        <name>original</name>
                        <help>Keep the original traffic class priority</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure the original traffic class priority for given Mirroring Group</help>
                        </argument>
                    </argument>
                </argument>
            </argument>

            <argument>
                <name>truncation</name>
                <help>Enable/Disable truncation of mirrored frames</help>
                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
                    <argument>
                        <name>on</name>
                        <help>Enable truncation of mirrored frames</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure frame truncation for the Mirroring Group</help>
                        </argument>
                    </argument>
                    <argument>
                        <name>off</name>
                        <help>Disable truncation of mirrored frames</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure frame truncation for the Mirroring Group</help>
                        </argument>
                    </argument>
                </argument>
            </argument>

            <argument>
                <name>truncate-others</name>
                <help>Enable/Disable truncation of non mirrored frames</help>
                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
                    <argument>
                        <name>on</name>
                        <help>Enable truncation of non mirrored frames</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure frame truncation of non mirrored frames</help>
                        </argument>
                    </argument>
                    <argument>
                        <name>off</name>
                        <help>Disable truncation of non mirrored frames</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure frame truncation of non mirrored frames</help>
                        </argument>
                    </argument>
                </argument>
            </argument>

            <argument>
                <name>truncate-mask</name>
                <help>Define the egress port mask used to manage truncation of non mirrored frames</help>
                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
                    <argument>
                        <name>!&lt;port&gt;</name>
                        <help>A port number, list, range, or combination thereof</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure egress truncate mask</help>
                        </argument>
                    </argument>
                </argument>
            </argument>

            <argument>
                <name>sample</name>
                <help>Configure sampling rate sent on the monitor port</help>
                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
                    <argument>
                        <name>!&lt;rate&gt;</name>
                        <help>The sampling rate, N, where every Nth frame is sampled</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure the sampling rate for the Mirroring Group</help>
                        </argument>
                    </argument>
                    <argument>
                        <name>off</name>
                        <help>To disable sampling for the Mirroring Group</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Disable the sampling rate for the Mirroring Group</help>
                        </argument>
                    </argument>
                </argument>
            </argument>

            <argument>
                <name>acl</name>
                <help>Enable/Disable ACL filtering of mirrored frames</help>
                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
                    <argument>
                        <name>on</name>
                        <help>Enable ACL filtering of mirrored frames</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure ACL filtering for the Mirroring Group</help>
                        </argument>
                    </argument>
                    <argument>
                        <name>off</name>
                        <help>Disable ACL filtering of mirrored frames</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure ACL filtering for the Mirroring Group</help>
                        </argument>
                    </argument>
                </argument>
            </argument>

            <argument>
                <name>tx_egress_port</name>
                <help>Defines the port number being TX mirrored</help>
                <argument>
                    <name>!&lt;group id&gt;</name>
                    <help>A Mirroring Group ID from 0-3</help>
                    <argument>
                        <name>!&lt;port&gt;</name>
                        <help>A logical port number</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure the TX mirrored port for given Mirroring Group</help>
                        </argument>
                    </argument>
                    <argument>
                        <name>automatic</name>
                        <help>Automatically select the first egress port as the TX mirrored one</help>
                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure the TX mirrored port for given Mirroring Group</help>
                        </argument>
                    </argument>
                </argument>
            </argument>
        </command>  <!-- end set mirror -->
    </command>
</config>
