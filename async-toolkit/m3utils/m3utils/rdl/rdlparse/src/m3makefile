import ("libm3")
import ("cit_util")
import ("parserlib")
import ("parseparams")

Token("rdl")
Lexer("rdl","rdl")
Parser("rdl","rdl")

Extended("rdlLexExt")
Extended("rdlParseExt")

%library("rdlparse")

derived_interface ("RdlPredefProperty", VISIBLE)
derived_interface ("RdlPropertyModifier", VISIBLE)
derived_interface ("RdlPropertyComponent", VISIBLE)
derived_interface ("RdlPropertyRvalueKeyword", VISIBLE)
derived_interface ("RdlComponentDefType", VISIBLE)
derived_interface ("RdlOrigin",VISIBLE)
derived_interface ("RdlPropertyRefType",VISIBLE)

Interface ("RdlRootElem")
Interface ("RdlComponentDef")
List ("RdlComponentDef", "RdlComponentDef")
Interface ("RdlEnumDef")
Interface ("RdlComponentDefClass")
Interface ("RdlPropertyComponentDisjunction")
Interface ("RdlPropertyDefault")
Interface ("RdlPropertyType")
Interface ("RdlPropertyBody")

Interface ("RdlStr")
Module    ("RdlNum")

Table ("TextPropertyBody", "Text", "RdlPropertyBody")

Interface ("RdlEnumPropertyAssign")
List ("RdlEnumPropertyAssign", "RdlEnumPropertyAssign")

Interface ("RdlPropertyAssign")
Interface ("RdlPropertyAssignClass")
List ("RdlPropertyAssign", "RdlPropertyAssign")
Interface ("RdlEnumEntry")
List ("RdlEnumEntry","RdlEnumEntry")
Interface ("RdlEnumDef")
Interface ("RdlArray")
Interface ("RdlComponentInstElem")
List ("RdlComponentInstElem", "RdlComponentInstElem")

Interface ("RdlComponentDefElem")
List ("RdlComponentDefElem", "RdlComponentDefElem")
Interface ("RdlAnonComponentInstElems")

Interface ("RdlExplicitComponentInst")

Interface ("RdlExplicitPropertyAssign")
Interface ("RdlPostPropertyAssign")
Interface ("RdlInstanceRef")
Interface ("RdlPropertyAssignRhs")

Interface ("RdlInstanceRefElem")
Sequence ("RdlInstanceRefElem", "RdlInstanceRefElem")
Interface ("RdlPropertyRvalueConstant")
Interface ("RdlConcatElem")
List ("RdlConcatElem","RdlConcatElem")

Interface ("RdlProperty")
Interface ("RdlPropertyDef")
Interface ("RdlRootElem")
List ("RdlRootElem", "RdlRootElem")

%implementation ("Main")
library("rdlparse")

%program ("parserdl")
