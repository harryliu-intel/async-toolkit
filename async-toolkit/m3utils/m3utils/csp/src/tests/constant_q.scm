; Copyright (c) 2025 Intel Corporation.  All rights reserved.  See the file COPYRIGHT for more information.
; SPDX-License-Identifier: Apache-2.0

("constant.Q(32)" (csp () () ((csp () () ((csp () () ((csp () () ((csp () () () () (sequence) ()) (csp ((function setBytesFromInt (((decl (id lo) (integer #f #f () ()) in ()) (decl (id hi) (integer #f #f () ()) in ())) ((decl (id data) (array (range 10_0 10_0) (integer #f #f 10_8 (0 255))) inout ())) ((decl (id value) (integer #f #f () ()) in ()))) () (sequence (loop i (range (id lo) (id hi)) 0 (sequence (sequence (assign (array-access (id data) (id i)) (% (>> (id value) (* 10_8 (- (id hi) (id i)))) 10_256))))))) (function getIntFromBytes (((decl (id lo) (integer #f #f () ()) in ()) (decl (id hi) (integer #f #f () ()) in ())) ((decl (id data) (array (range 10_0 10_0) (integer #f #f 10_8 (0 255))) in ()))) (integer #f #f () ()) (sequence (loop i (range (id lo) (id hi)) 0 (sequence (sequence (assign (id x) (+ (id x) (<< (array-access (id data) (id i)) (* 10_8 (- (id hi) (id i))))))))) (assign (id getIntFromBytes) (id x)))) (function b2i (((decl (id b) (boolean #f) in ()))) (integer #f #f () ()) (sequence (if ((id b) (sequence (assign (id b2i) 10_1))) (else (sequence (assign (id b2i) 10_0)))))) (function i2b (((decl (id b) (integer #f #f () ()) in ()))) (boolean #f) (sequence (assign (id i2b) (!= (id b) 10_0)))) (function s2i (((decl (id base) (integer #f #f () ()) in ())) ((decl (id s) (string #f) in ()))) (integer #f #f () ()) (sequence (var ((decl (id x) (integer #f #f () ()) none (apply (id ord) (id s))))) (var ((decl (id c) (integer #f #f 10_8 (0 255)) none ()))) (var ((decl (id d) (integer #f #f 10_5 (0 31)) none ()))) (do ((> (id x) 10_0) (sequence (assign (id c) (id x)) (assign (id x) (>> (id x) 10_8)) (if ((& (<= (apply (id ord) "0") (id c)) (<= (id c) (apply (id ord) "9"))) (sequence (assign (id d) (- (id c) (apply (id ord) "0"))))) ((& (<= (apply (id ord) "a") (id c)) (<= (id c) (apply (id ord) "z"))) (sequence (assign (id d) (+ (- (id c) (apply (id ord) "a")) 10_10)))) ((& (<= (apply (id ord) "A") (id c)) (<= (id c) (apply (id ord) "Z"))) (sequence (assign (id d) (+ (- (id c) (apply (id ord) "A")) 10_10)))) (else (sequence (assign (id d) 10_0) (eval (apply (id print) (+ (+ (+ "invalid digit " (apply (id chr) (id c))) " in ") (id s))))))) (if ((>= (id d) (id base)) (sequence (eval (apply (id print) (+ (+ (+ (+ (+ "invalid digit " (apply (id chr) (id c))) " in ") (id s)) " in base-") (id base)))) (assign (id d) 10_0))) (else skip)) (assign (id s2i) (+ (* (id s2i) (id base)) (id d)))))))) (function bin (((decl (id x) (integer #f #f () ()) in ()))) (string #f) (sequence (assign (id bin) (apply (id string) (id x) 10_2)))) (function hex (((decl (id x) (integer #f #f () ()) in ()))) (string #f) (sequence (if ((< (id x) 10_0) (sequence (assign (id hex) (+ "-0x" (apply (id string) (- (id x)) 10_16))))) (else (sequence (assign (id hex) (+ "0x" (apply (id string) (id x) 10_16)))))))) (function hexByte (((decl (id byte) (integer #f #f 10_8 (0 255)) in ()))) (string #f) (sequence (if ((>= (id byte) 16_10) (sequence (assign (id hexByte) (+ "0x" (apply (id string) (id byte) 10_16))))) (else (sequence (assign (id hexByte) (+ "0x0" (apply (id string) (id byte) 10_16)))))))) (function min (((decl (id a) (integer #f #f () ()) in ()) (decl (id b) (integer #f #f () ()) in ()))) (integer #f #f () ()) (sequence (if ((< (id a) (id b)) (sequence (assign (id min) (id a)))) (else (sequence (assign (id min) (id b))))))) (function max (((decl (id a) (integer #f #f () ()) in ()) (decl (id b) (integer #f #f () ()) in ()))) (integer #f #f () ()) (sequence (if ((> (id a) (id b)) (sequence (assign (id max) (id a)))) (else (sequence (assign (id max) (id b))))))) (function abs (((decl (id a) (integer #f #f () ()) in ()))) (integer #f #f () ()) (sequence (if ((< (id a) 10_0) (sequence (assign (id abs) (- (id a))))) (else (sequence (assign (id abs) (id a))))))) (function xor (((decl (id a) (integer #f #f () ()) in ()) (decl (id b) (integer #f #f () ()) in ()))) (integer #f #f () ()) (sequence (assign (id xor) (| (& (id a) (not (id b))) (& (id b) (not (id a))))))) (function parity (((decl (id N) (integer #f #f () ()) in ()) (decl (id x) (integer #f #f () ()) in ()))) (integer #f #f 10_1 (0 1)) (sequence (loop i (range 10_0 (- (id N) 10_1)) 0 (sequence (sequence (assign (bits (id parity) () 10_0) (+ (bits (id parity) () 10_0) (bits (id x) () (id i))))))))) (function checkParity (((decl (id N) (integer #f #f () ()) in ()) (decl (id x) (integer #f #f () ()) in ()))) (boolean #f) (sequence (assign (id checkParity) (!= (apply (id parity) (id N) (id x)) 10_0)))) (function bitsum (((decl (id N) (integer #f #f () ()) in ()) (decl (id x) (integer #f #f () ()) in ()))) (integer #f #f () ()) (sequence (loop i (range 10_0 (- (id N) 10_1)) 0 (sequence (sequence (assign (id bitsum) (+ (id bitsum) (bits (id x) () (id i))))))))) (function get_msb_pos (((decl (id N) (integer #f #f () ()) in ()) (decl (id data) (integer #f #f () ()) in ()))) (integer #f #f () ()) (sequence (loop i (range 10_0 (- (id N) 10_1)) 0 (sequence (sequence (if ((== (bits (id data) () (id i)) 10_1) (sequence (assign (id get_msb_pos) (id i)))) (else skip))))))) (function keep_msb_bit (((decl (id N) (integer #f #f () ()) in ()) (decl (id mask) (integer #f #f () ()) in ()))) (integer #f #f () ()) (sequence (loop i (range 10_0 (- (id N) 10_1)) 0 (sequence (assign (bits (id keep_msb_bit) () (id i)) (& (bits (id mask) () (id i)) (loop-expression j (range (+ (id i) 10_1) (- (id N) 10_1)) & (not (bits (id mask) () (id j)))))))))) (function truncate (((decl (id W) (integer #f #f () ()) in ()) (decl (id x) (integer #f #f () ()) in ()))) (integer #f #f () ()) (sequence (assign (id truncate) (bits (id x) 10_0 (- (id W) 10_1))))) (function subint (((decl (id x) (integer #f #f () ()) in ()) (decl (id i) (integer #f #f () ()) in ()) (decl (id len) (integer #f #f () ()) in ()))) (integer #f #f () ()) (sequence (assign (id subint) (bits (id x) (* (id i) (id len)) (- (* (+ (id i) 10_1) (id len)) 10_1))))) (function clip_binary_tree_index (((decl (id N) (integer #f #f () ()) in ()) (decl (id S) (integer #f #f () ()) in ()))) (integer #f #f () ()) (sequence (var ((decl (id T) (integer #f #f () ()) none ()))) (loop i (range 10_0 (- (apply (id log2) (id N)) 10_1)) 0 (sequence (sequence (var ((decl (id b) (integer #f #f () ()) none (- (- (apply (id log2) (id N)) 10_1) (id i))))) (assign (bits (id T) () (id b)) (bits (id S) () (id b))) (if ((>= (id T) (id N)) (sequence (assign (bits (id T) () (id b)) 10_0))) (else skip))))) (assign (id clip_binary_tree_index) (id T)))) (function packBits (((decl (id data) (integer #f #f () ()) inout ()) (decl (id pos) (integer #f #f () ()) inout ()) (decl (id field) (integer #f #f () ()) none ()) (decl (id bits) (integer #f #f () ()) none ()))) () (sequence (assign (bits (id data) (id pos) (- (+ (id pos) (id bits)) 10_1)) (bits (id field) 10_0 (- (id bits) 10_1))) (assign (id pos) (+ (id pos) (id bits))))) (function unpackBits (((decl (id data) (integer #f #f () ()) inout ()) (decl (id pos) (integer #f #f () ()) inout ()) (decl (id field) (integer #f #f () ()) out ()) (decl (id bits) (integer #f #f () ()) none ()))) () (sequence (assign (bits (id field) 10_0 (- (id bits) 10_1)) (bits (id data) (id pos) (- (+ (id pos) (id bits)) 10_1))) (assign (id pos) (+ (id pos) (id bits))))) (function sbe (((decl (id data) (integer #f #f () ()) in ()) (decl (id msb_pos) (integer #f #f () ()) in ()) (decl (id lsb_pos) (integer #f #f () ()) in ()))) (integer #f #f () ()) (sequence (var ((decl (id max_int) (integer #f #f () ()) none (- (** 10_2 (- (id msb_pos) (id lsb_pos))) 10_1)))) (var ((decl (id raw) (integer #f #f () ()) none (bits (id data) (id lsb_pos) (id msb_pos))))) (assign (id sbe) (apply (id choose) (> (id raw) (id max_int)) (+ (* (- (+ (id max_int) 10_1)) 10_2) (id raw)) (id raw))))) (function rol32 (((decl (id a) (integer #f #f 10_32 (0 4294967295)) in ())) ((decl (id b) (integer #f #f 10_5 (0 31)) in ()))) (integer #f #f 10_32 (0 4294967295)) (sequence (var ((decl (id x) (integer #f #f 10_64 (0 18446744073709551615)) none (| (id a) (<< (id a) 10_32))))) (assign-operate < (id x) (id b)) (assign (id rol32) (>> (id x) 10_32)))) (function rol64 (((decl (id a) (integer #f #f 10_64 (0 18446744073709551615)) in ())) ((decl (id b) (integer #f #f 10_6 (0 63)) in ()))) (integer #f #f 10_64 (0 18446744073709551615)) (sequence (var ((decl (id x) (integer #f #f 10_128 (0 340282366920938463463374607431768211455)) none (| (id a) (<< (id a) 10_64))))) (assign-operate < (id x) (id b)) (assign (id rol64) (>> (id x) 10_64)))) (function ror32 (((decl (id a) (integer #f #f 10_32 (0 4294967295)) in ())) ((decl (id b) (integer #f #f 10_5 (0 31)) in ()))) (integer #f #f 10_32 (0 4294967295)) (sequence (var ((decl (id x) (integer #f #f 10_64 (0 18446744073709551615)) none (| (id a) (<< (id a) 10_32))))) (assign (id ror32) (>> (id x) (id b))))) (function ror64 (((decl (id a) (integer #f #f 10_64 (0 18446744073709551615)) in ())) ((decl (id b) (integer #f #f 10_6 (0 63)) in ()))) (integer #f #f 10_64 (0 18446744073709551615)) (sequence (var ((decl (id x) (integer #f #f 10_128 (0 340282366920938463463374607431768211455)) none (| (id a) (<< (id a) 10_64))))) (assign (id ror64) (>> (id x) (id b))))) (function fputs (((decl (id fd) (integer #f #f () ()) in ())) ((decl (id s) (string #f) in ()))) (boolean #f) (sequence (var ((decl (id n) (integer #f #f () ()) none (apply (id ord) (id s))))) (var ((decl (id buf) (array (range 10_0 10_0) (integer #f #f 10_8 (0 255))) none ()))) (do ((> (id n) 10_0) (sequence (assign (array-access (id buf) 10_0) (& (id n) 16_FF)) (if ((> (apply (id fwrite) (id buf) 10_1 10_1 (id fd)) 10_0) (sequence (assign (id fputs) 10_-1))) (else skip)) (assign-operate > (id n) 10_8)))))) (function fgets (((decl (id fd) (integer #f #f () ()) in ())) ((decl (id s) (string #f) out ()))) (boolean #f) (sequence (var ((decl (id buf) (array (range 10_0 10_0) (integer #f #f 10_8 (0 255))) none ()))) (var ((decl (id done) (boolean #f) none ()))) (do ((&& (not (id done)) (> (apply (id fread) (id buf) 10_1 10_1 (id fd)) 10_0)) (sequence (assign (id fgets) 10_-1) (if ((| (== (array-access (id buf) 10_0) 10_0) (== (array-access (id buf) 10_0) (apply (id ord) "
"))) (sequence (assign (id done) 10_-1))) (else (sequence (assign-operate + (id s) (apply (id chr) (array-access (id buf) 10_0))))))))))) (function time () (integer #f #f () ()) (sequence (assign (id time) (apply (id choose) (id real_time) (* 10_1000 (apply (id walltime))) (apply (id simtime)))))) (function lfsr32 (((decl (id lfsr) (integer #f #f 10_32 (0 4294967295)) in ()))) (integer #f #f 10_32 (0 4294967295)) (sequence (loop i (range 10_0 (- 10_32 10_1)) 0 (sequence (assign (id lfsr) (| (<< (id lfsr) 10_1) (^ (^ (^ (^ (bits (id lfsr) () 10_31) (bits (id lfsr) () 10_21)) (bits (id lfsr) () 10_1)) (bits (id lfsr) () 10_0)) 10_1))))) (assign (id lfsr32) (id lfsr)))) (function lfsr16 (((decl (id lfsr) (integer #f #f 10_16 (0 65535)) in ()))) (integer #f #f 10_16 (0 65535)) (sequence (loop i (range 10_0 (- 10_16 10_1)) 0 (sequence (assign (id lfsr) (| (<< (id lfsr) 10_1) (^ (^ (^ (^ (bits (id lfsr) () 10_15) (bits (id lfsr) () 10_13)) (bits (id lfsr) () 10_12)) (bits (id lfsr) () 10_10)) 10_1))))) (assign (id lfsr16) (id lfsr)))) (function lfsr8 (((decl (id lfsr) (integer #f #f 10_8 (0 255)) in ()))) (integer #f #f 10_8 (0 255)) (sequence (loop i (range 10_0 (- 10_8 10_1)) 0 (sequence (assign (id lfsr) (| (<< (id lfsr) 10_1) (^ (^ (^ (^ (bits (id lfsr) () 10_7) (bits (id lfsr) () 10_5)) (bits (id lfsr) () 10_4)) (bits (id lfsr) () 10_3)) 10_1))))) (assign (id lfsr8) (id lfsr))))) () () () (sequence (var ((decl (id real_time) (boolean #t) none 10_0)))) ())) () () ())) () () ())) () () ())) () (sequence (var ((decl (id W) (integer #t #t () ()) none 10_32))) (var ((decl (id SYM_NONE) (integer #t #t () ()) none 10_0))) (var ((decl (id ULVT_A_TRANSISTOR) (integer #t #t () ()) none 10_9))) (var ((decl (id ALWAYS_HIGH) (integer #t #t () ()) none 10_1))) (var ((decl (id real_time) (boolean #t) none 10_0))) (var ((decl (id SYM_SKIP_FIRST) (integer #t #t () ()) none 10_2))) (var ((decl (id INIT_HIGH) (integer #t #t () ()) none 10_1))) (var ((decl (id ALWAYS_LOW) (integer #t #t () ()) none 10_0))) (var ((decl (id HDC_TRANSISTOR) (integer #t #t () ()) none 10_4))) (var ((decl (id SYM_PARTIAL) (integer #t #t () ()) none 10_1))) (var ((decl (id PROCESS) (integer #t #t () ()) none 10_1278))) (var ((decl (id SLACKER_SIGNOFF) (boolean #t) none 10_-1))) (var ((decl (id LVT_A_TRANSISTOR) (integer #t #t () ()) none 10_7))) (var ((decl (id NONCONST) (integer #t #t () ()) none 10_3))) (var ((decl (id HVT_TRANSISTOR) (integer #t #t () ()) none 10_3))) (var ((decl (id ULVT_TRANSISTOR) (integer #t #t () ()) none 10_5))) (var ((decl (id LVT_TRANSISTOR) (integer #t #t () ()) none 10_2))) (var ((decl (id SVT_A_TRANSISTOR) (integer #t #t () ()) none 10_6))) (var ((decl (id SlackerSkipProteusSubcells) (boolean #t) none 10_0))) (var ((decl (id NO_STATICIZER) (integer #t #t () ()) none 10_-1))) (var ((decl (id IDLE_UNKNOWN) (integer #t #t () ()) none 10_2))) (var ((decl (id FULL_STATICIZER) (integer #t #t () ()) none 10_1))) (var ((decl (id INIT_LOW) (integer #t #t () ()) none 10_0))) (var ((decl (id DEFAULT_UP_DELAY) (integer #t #t () ()) none 10_100))) (var ((decl (id INIT_RANDOM) (integer #t #t () ()) none 10_-1))) (var ((decl (id FAST_REPEATER_BP) (integer #t #t () ()) none 10_45))) (var ((decl (id SYM_FULL_X) (integer #t #t () ()) none 10_5))) (var ((decl (id SVT_TRANSISTOR) (integer #t #t () ()) none 10_1))) (var ((decl (id DEFAULT_DN_DELAY) (integer #t #t () ()) none 10_100))) (var ((decl (id WEAK_STATICIZER) (integer #t #t () ()) none 10_0))) (var ((decl (id COMB_STATICIZER) (integer #t #t () ()) none 10_2))) (var ((decl (id FULL_COMB_STATICIZER) (integer #t #t () ()) none 10_3))) (var ((decl (id HVT_A_TRANSISTOR) (integer #t #t () ()) none 10_8))) (var ((decl (id GATED) (integer #t #t () ()) none 10_1))) (var ((decl (id ALWAYS_ON) (integer #t #t () ()) none 10_0))) (var ((decl (id SYM_TRUNK) (integer #t #t () ()) none 10_4))) (var ((decl (id scan_coverage_model) (boolean #t) none 10_0))) (var ((decl (id SYM_FULL) (integer #t #t () ()) none 10_3))) (var ((decl (id AUTO_STATICIZER) (integer #t #t () ()) none 10_4))) (var ((decl (id IDLE_1) (integer #t #t () ()) none 10_1))) (var ((decl (id FULL_AUTO_STATICIZER) (integer #t #t () ()) none 10_5))) (var ((decl (id IDLE_0) (integer #t #t () ()) none 10_0))) (var ((decl (id METASTABLE_LEAF_ROUTED) (boolean #t) none 10_-1))) (var ((decl (id BEST_REPEATER_BP) (integer #t #t () ()) none 10_60)))) (sequence (var ((decl (id x) (integer #f #f (id W) ()) none ()))) (var ((decl (id y) (integer #f #f () ()) none ()))) (assign (id y) (id W)) (assign (id x) (+ (id W) 10_1)) (eval (apply (id print) (id x))))) (cellinfo "constant.Q(32)" "constant.Q(32)" () ((port-definition Vdd in (node #f 1)) (port-definition GND in (node #f 1)) (port-definition _RESET in (node #f 1)) (port-definition START in (node #f 1)) (port-definition DLY in (node #f 1)) (port-definition CAPTURE in (node #f 1)) (port-definition PASSTHRU in (node #f 1)) (port-definition INJECT in (node #f 1)))))