<?xml
 version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html
 xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta
     name="generator"
     content="HTML Tidy for Linux/x86 (vers 1st July 2002), see www.w3.org" />

    <title>Updatenetlist</title>

    <style
     type="text/css">
    /*<![CDATA[*/
    body{ font-family: verdana, sans-serif; }
    code { font-family: terminal; }
    /*]]>*/
                                                                                                                    </style>
  </head>

  <body>
    <h1>Update Netlist</h1>

    <h2>Overview</h2>

    <p>Fulcrum Micro-Architecture engineers use a language called
    CAST to specify the netlists for the circuits that Fulcrum
    creates. Fulcrum uses the Virtuoso layout editor from Cadence
    to create the physical design of a circuit. Thus Fulcrum needs
    a way to extract a circuit's netlist from CAST and load the
    netlist into the Cadence tools. Updatenetlist is the tool which
    accomplishes that task.</p>

    <p>Updatenetlist updates the following types of information in
    the DFII layout:</p>

    <dl>
      <dt>Hierarchy</dt>

      <dd>
        <p>Updatenetlist makes sure that each cell in the DFII
        contains the instances specified in the CAST and only the
        instances specified in the CAST.</p>

        <p>The function
        <code>UpdateNetlistCompareCellInstances</code> in the skill
        code figures out how the dfII layout hierarchy differs from
        the CAST hierarchy for a cell.</p>

        <p><code>UpdateNetlistCompareCellInstances</code> does the
        following:</p>

        <ol>
          <li>
            <p>Figures out which instances in the DFII need to be
            deleted. Instances of cells from the gate, stack, and
            technology libraries are not considered in the layout
            view. Instances of cells from the gate and stack
            libraries are always deleted in the floorplan view.</p>
          </li>

          <li>
            <p>Figures out which instances in the DFII need to
            instantiate a different master cell.</p>
          </li>

          <li>
            <p>Figures out which instances need to be created in
            the DFII.</p>
          </li>

          <li>
            <p>Figures out which instances need to have their
            P-Cell parameters set.</p>
          </li>
        </ol>
      </dd>

      <dt>Connectivity</dt>

      <dd>
        <p>Updatenetlist makes sure that each port of each instance
        in each cell is connected to the net specified for that
        port in the CAST.</p>

        <p>The function
        <code>UpdateNetlistCompareCellConnectivity</code> in the
        skill code figures out how the dfII layout connectivity
        differs fomr the CAST connectivity for a CELL.</p>

        <p><code>UpdateNetlistCompareCellConnectivity</code> does
        the following:</p>

        <ol>
          <li>
            <p>Figures out which connections to instances in the
            DFII are not in the CAST.</p>
          </li>

          <li>
            <p>Figures out which connections to instances in the
            cast are not in the DFII.</p>
          </li>

          <li>
            <p>Figures out which terminals in the DFII are not in
            the CAST.</p>
          </li>

          <li>
            <p>Figures out whihc terminals in the CAST are not in
            the DFII.</p>
          </li>

          <li>
            <p>Figures out which nets in the DFII are not in the
            CAST.</p>
          </li>

          <li>
            <p>Figures out which nets in the CAST are not in the
            DFII.</p>
          </li>

          <li>
            <p>Figures out which nets need to have thier wire
            spacing or wire width constraints changed.</p>
          </li>
        </ol>
      </dd>

      <dt>Floorplanning</dt>

      <dd>
        <p>Updatenetlist estimates the width of leaf cells and
        positions instances in the floorplan view in the same
        locations as the corresponding instances in the layout
        view.</p>

        <p>The function
        <code>UpdateNetlistCompareCellBoundary</code> in the skill
        code calculates the height and width of leaf cells as
        follows:</p>

        <ul>
          <li>
            <p>If the cell view is a floor plan view:</p>

            <dl>
              <dt>then</dt>

              <dd>
                <ul>
                  <li>
                    <p>If there is a cell view for the layout view
                    and it has a boundary shape:</p>

                    <dl>
                      <dt>then</dt>

                      <dd>
                        <p>Use the height and width of the boundary
                        in the layout.</p>
                      </dd>

                      <dt>else</dt>

                      <dd>
                        <ul>
                          <li>
                            <p>Use the value of the height
                            directive for the height</p>
                          </li>

                          <li>
                            <p>Guess the width with the following
                            equation: ( ( (
                            TotalTransistorGateLengthInMeters *
                            TransistorBaseWidthInMeters ) +
                            TotalTransistorGateAreaInMetersSquared
                            ) / CellHeightInMeters ) *
                            DensityFactorToUse *
                            DensityScaleFactorToUse *
                            BoundaryScalingFactor</p>

                            <p>The guessed width is always rounded
                            off to the nearest multiple of the
                            WidthIncrement.</p>
                          </li>
                        </ul>
                      </dd>
                    </dl>
                  </li>
                </ul>
              </dd>

              <dt>else</dt>

              <dd>
                <p>Don't change an existing boundary and don't draw
                a boundary if there is not one.</p>
              </dd>
            </dl>
          </li>
        </ul>
      </dd>
    </dl>

    <h2>Usage</h2>

    <p>Updatenetlist can either be run directory or through
    ubersize.</p>

    <h2>Updatenetlist options</h2>

    <dl>
      <dt>--cell=name</dt>

      <dd>
        <p>This option is required and specifies the fully
        qualified name of the top level cell whose DFII netlist is
        to be updated.</p>
      </dd>

      <dt>--subtype=name</dt>

      <dd>
        <p>This option is required and specifies the sub type of
        the cell specified with the --cell option whose DFII
        netlist is to be updated</p>
      </dd>

      <dt>--fulcrum-pdk-root=dir</dt>

      <dd>
        <p>This option is required and specifies the root directory
        of a Fulcrum PDK installation</p>
      </dd>

      <dt>--dfII-dir=dir</dt>

      <dd>
        <p>This option is required and specifies the location of
        the <a
         href="http://internal.avlsi.com/~chrisb/cdsp4/index.html#dfIIdirdef">
        dfII directory</a>.</p>
      </dd>

      <dt>--cast-path=path</dt>

      <dd>
        <p>This option is required and specifies a path in which to
        look for CAST files that define the cell and subtype
        specified with the --cell and --subtype options.</p>
      </dd>

      <dt>--density-factor-default=num</dt>

      <dd>
        <p>This option is optional and specifies the density factor
        to use for cells that do not have a value for the
        density-factor directive. The default value for this option
        is 15</p>
      </dd>

      <dt>--bound-scale-factor=num</dt>

      <dd>
        <p>This option is optional and specifies the boundary
        scaling factor to use. All leaf cell bounding boxes will
        have thier calculated width scaled by the specified amount.
        This option defaults to 1.</p>
      </dd>

      <dt>--suppress-pins</dt>

      <dd>
        <p>This option is optional and specified that updatenetlist
        is not to create or modify pins in the DFII</p>
      </dd>

      <dt>--cadence-log=file</dt>

      <dd>
        <p>This option is optional and specifies a file that
        updatenetlist will write the cadence log to. This option
        defaults to /dev/null.</p>
      </dd>

      <dt>--update-views</dt>

      <dd>
        <p>This option is optional and specifies that updatenetlist
        is to modify the DFII's netlist to match the netlist
        specified in the CAST. If this option is not specified
        nothing will be changed.</p>
      </dd>

      <dt>--verbose</dt>

      <dd>
        <p>This option is optional and specified that updatenetlist
        should print out extra information about what it is
        doing.</p>
      </dd>

      <dt>--check-log=file</dt>

      <dd>
        <p>This option is optional and specifies a file that
        updatenetlist will write check log to. This option defaults
        to /dev/null.</p>
      </dd>

      <dt>--lock-bound</dt>

      <dd>
        <p>This option is optional and specifies that updatenetlist
        must not change any boundary shape in the DFII.</p>
      </dd>

      <dt>--force-pins</dt>

      <dd>
        <p>Ask Clayton</p>
      </dd>

      <dt>--suppress-netlist-view</dt>

      <dd>
        <p>This option is optional and specifies that updatenetlist
        should not create or compare netlist views to the netlist
        extracted from the CAST.</p>
      </dd>

      <dt>--lock-layout</dt>

      <dd>
        <p>This option is optional and specifies that updatenetlist
        should not modify any layout view for any reason.</p>
      </dd>

      <dt>--version</dt>

      <dd>
        <p>This option is optional and specifies that updatenetlist
        should print out the build identifier</p>
      </dd>

      <dt>--debug</dt>

      <dd>
        <p>This option is optional and specifies that updatenetlist
        should run all skill code in the skill debugger.</p>
      </dd>

      <dt>--java-max-heap-size=</dt>

      <dd>
        <p>This option is optional and specifies the value of the
        -Xmx argument to the java virtual machine. This option
        defaults to 1800M.</p>
      </dd>

      <dt>--temp-dir=dir</dt>

      <dd>
        <p>This option is optional and specifies a directory that
        will contain any temporary files updatenetlist creates. On
        exit, updatenetlist deletes any temporary files or
        directories it created. This option default to $TEMP. If
        $TEMP is empty this option defaults to /scratch.</p>
      </dd>
    </dl>

    <h2>Ubersize options relating to Updatenetlist</h2>

    <dl>
      <dt>cellName</dt>

      <dd>
        <p>Specified as --cell to updatenetlist.</p>
      </dd>

      <dt>subType</dt>

      <dd>
        <p>Specified as --subtype to updatenetlist.</p>
      </dd>

      <dt>--fulcrum-pdk-root</dt>

      <dd>
        <p>Specified as --fulcrum-pdk-root to updatenetlist</p>
      </dd>

      <dt>--dfII-dir</dt>

      <dd>
        <p>Specified as --dfII-dir to updatenetlist</p>
      </dd>

      <dt>--cast-dir</dt>

      <dd>
        <p>Specified as part of --cast-path to updatenetlist</p>
      </dd>

      <dt>--spec-dir</dt>

      <dd>
        <p>Specified as part of --cast-path to updatenetlist</p>
      </dd>

      <dt>--suppress-netlist</dt>

      <dd>
        <p>Specified as --suppress-netlist to updatenetlist</p>
      </dd>

      <dt>--lock-bound</dt>

      <dd>
        <p>Specified as --lock-bound to updatenetlist</p>
      </dd>

      <dt>--lock-layout</dt>

      <dd>
        <p>Specified as --lock-layout to updatenetlist</p>
      </dd>

      <dt>--bound-scale-factor</dt>

      <dd>
        <p>Specified as --bound-scale-factor to updatenetlist</p>
      </dd>

      <dt>--mem</dt>

      <dd>
        <p>Specified as --java-mex-heap-size to updatenetlist</p>
      </dd>
    </dl>
  </body>
</html>

