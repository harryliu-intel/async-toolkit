// Autogenerated Jamon implementation
// C:/Users/mhesseli/Documents/Perforce/rrc-4/reg-main/shared/java/src/./com/fulcrummicro/hw/verification/chip/mgmt/registers/templates/C.jamon

package com.fulcrummicro.hw.verification.chip.mgmt.registers.templates;

// 9, 1
import java.util.Set;
// 10, 1
import com.fulcrummicro.hw.verification.chip.mgmt.registers.Register;
// 11, 1
import com.fulcrummicro.hw.verification.lib.testcase.ResetType.ResetDomain;

public abstract class CImpl
  extends com.fulcrummicro.util.jamon.timestampImpl
  implements com.fulcrummicro.hw.verification.chip.mgmt.registers.templates.C.Intf

{
  protected static com.fulcrummicro.hw.verification.chip.mgmt.registers.templates.C.ImplData __jamon_setOptionalArguments(com.fulcrummicro.hw.verification.chip.mgmt.registers.templates.C.ImplData p_implData)
  {
    com.fulcrummicro.util.jamon.timestampImpl.__jamon_setOptionalArguments(p_implData);
    return p_implData;
  }
  public CImpl(org.jamon.TemplateManager p_templateManager, com.fulcrummicro.hw.verification.chip.mgmt.registers.templates.C.ImplData p_implData)
  {
    super(p_templateManager, __jamon_setOptionalArguments(p_implData));
  }
  
  @Override protected void child_render_1(final java.io.Writer jamonWriter)
    throws java.io.IOException
  {
    child_render_2(jamonWriter);
  }
  
  protected abstract void child_render_2(final java.io.Writer jamonWriter) throws java.io.IOException;
  
  
  
  
  
  
  /**
   * @param jamonWriter
   * @throws java.io.IOException
   */
  // 82, 1
  protected void __jamon_innerUnit__strfaddr(final java.io.Writer jamonWriter, final int addr)
    throws java.io.IOException
  {
    // 86, 1
    {
      // 86, 1
      __jamon_innerUnit__xdisplay(jamonWriter, addr, 24 );
    }
  }
  
  
  /**
   * @param jamonWriter
   * @throws java.io.IOException
   */
  // 29, 1
  protected void __jamon_innerUnit__rstdom(final java.io.Writer jamonWriter, final String domain, final String prefix)
    throws java.io.IOException
  {
    // 34, 1
    org.jamon.escaping.Escaping.HTML.write(org.jamon.emit.StandardEmitter.valueOf(prefix), jamonWriter);
    // 34, 13
    jamonWriter.write("RESET_DOMAIN_");
    // 34, 26
    org.jamon.escaping.Escaping.HTML.write(org.jamon.emit.StandardEmitter.valueOf(domain), jamonWriter);
  }
  
  
  /**
   * @param jamonWriter
   * @throws java.io.IOException
   */
  // 53, 1
  protected void __jamon_innerUnit__rstmask(final java.io.Writer jamonWriter, final Register r)
    throws java.io.IOException
  {
    // 57, 1
    
Set<ResetDomain> domains = r.getResetType(0).getDomains();
if (domains.size() > 32) {
    throw new Error("Reset domain mask supports up to 32 reset domains");
}
int mask = 1 << ResetDomain.CHIP.ordinal();
for (ResetDomain domain : domains) {
    mask |= 1 << domain.ordinal();
}

    // 67, 1
    {
      // 67, 1
      __jamon_innerUnit__xdisplay(jamonWriter, mask, 32 );
    }
  }
  
  
  /**
   * @param jamonWriter
   * @throws java.io.IOException
   */
  // 103, 1
  protected void __jamon_innerUnit__xdisplay(final java.io.Writer jamonWriter, final Integer i, final int w)
    throws java.io.IOException
  {
    // 108, 1
    
int nibbles = (int) Math.ceil(w / 4.0);

    // 111, 1
    org.jamon.escaping.Escaping.HTML.write(org.jamon.emit.StandardEmitter.valueOf(String.format(String.format("0x%%0%dX", nibbles), i)), jamonWriter);
  }
  
  
}
