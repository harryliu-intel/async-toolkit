<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE config PUBLIC "-//Fulcrum Microsystems//DTD DefaultCommands/EN" "DefaultCommands.dtd">
<!--
    vim:autoindent:et:sw=4:ts=4:tw=79:
-->

<config>

<!-- update -->
<command>
    <filter type="update-support">
        <allow>STARTUP2.0</allow>   <!-- only for startup 2.0 or later on the CF  -->
    </filter>

    <name>update</name>
    <help>TestPoint update commands</help>

    <!-- update show -->
    <command>
        <name>show</name>
        <help>Show update related information</help>
        <!-- update show repository-->
        <command>
            <name>repository</name>
            <help>Show tarballs in the repository</help>
            <handler>tpHandleUpdateShowRepository</handler>
            <argument>
                <name>!&lt;cr&gt;</name>
                <help>Display tarballs in the repository</help>
            </argument>
        </command>  <!-- end update show repository-->
        <!-- update show image information-->
        <command>
            <name>info</name>
            <help>Show information about the current TestPoint image</help>
            <handler>tpHandleUpdateShowImageInformation</handler>
            <argument>
                <name>!&lt;cr&gt;</name>
                <help>Show current image information</help>
            </argument>
        </command> <!-- end update show image information-->
    </command> <!-- end update show -->
    
    <!-- update install --> 
    <command>
        <name>install</name>
        <help>Install TestPoint image from repository</help>
        <handler>tpHandleUpdateInstallTpImage</handler>
        <argument>
            <name>!&lt;tarball name&gt;</name>
            <help>Tarball to use for the installation</help>
            <argument>
                <name>!&lt;cr&gt;</name>
                <help>Install image</help>
            </argument>
        </argument>
        <argument>
            <name>!&lt;tarball num&gt;</name>
            <help>Tarball repository reference number. See "update show 
                repository"</help>
            <argument>
                <name>!&lt;cr&gt;</name>
                <help>Install selected TestPoint image</help>
            </argument>
        </argument>
    </command> <!-- end update install -->
    
    <!-- update remove --> 
    <command>
        <name>remove</name>
        <help>Remove tarball from the repository</help>
        <handler>tpHandleUpdateRemoveTarball</handler>
        <argument>
            <name>!&lt;tarball num&gt;</name>
            <help>Tarball repository reference number. See "update show 
                repository"</help>
            <argument>
                <name>!&lt;cr&gt;</name>
                <help>Remove tarball</help>
            </argument>
        </argument>
    </command> <!-- end update remove-->

    <!-- update download --> 
    <command>
        <name>download</name>
        <help>Download tarball via TFTP</help>
        <handler>tpHandleUpdateTftpDownload</handler>
        <argument>
            <name>!&lt;tarball name&gt;</name>
            <help>Tarball to download</help>
            <argument>
                <name>!&lt;ip address&gt;</name>
                <help>TFTP server IP address</help>
                <argument>
                    <name>!&lt;cr&gt;</name>
                    <help>Download from TFTP server</help>
                </argument>
            </argument>
        </argument>
    </command> <!-- end update download-->

</command>  <!-- end update -->

</config>


