#! /bin/sh

#
# Copyright 2000 Asynchronous Digital Design.  All rights reserved.
#
# $Id: //depot/sw/sdk/core/maelstrom/main/build/java/src/scripts/make_subdir_makefile#1 $
#
# Author: Jesse Rosenstock
# Version: $Name:  $ $Date: 2001/10/08 $
#

subdirname="$1"
[ -n "$subdirname" ] && cd $subdirname
up=`echo $subdirname | sed -e 's:[^/]\+:..:g'`

cat > Makefile << EOF
# AUTOGENERATED FILE -- DO NOT EDIT!!!
default:
	@\$(MAKE) -C $up
  
# AUTOGENERATED FILE -- DO NOT EDIT!!!
tags:
	@\$(MAKE) -C $up "$subdirname/\$@"
  
# AUTOGENERATED FILE -- DO NOT EDIT!!!
some %/some:
	@\$(MAKE) -C $up "../classes/$subdirname/\$@"

# AUTOGENERATED FILE -- DO NOT EDIT!!!
%.class:
	@\$(MAKE) -C $up "../classes/$subdirname/\$@"

# AUTOGENERATED FILE -- DO NOT EDIT!!!
%::
	@\$(MAKE) -C $up "\$@"

# AUTOGENERATED FILE -- DO NOT EDIT!!!
EOF

# the last is not a valid subdirectory target, so we pass it up, and
# hope it is a valid top level target.
