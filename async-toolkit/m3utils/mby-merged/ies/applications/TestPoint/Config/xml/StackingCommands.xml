<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE config PUBLIC "-//Fulcrum Microsystems//DTD DefaultCommands/EN" "DefaultCommands.dtd">
<!--
    vim:autoindent:et:sw=4:ts=4:tw=79:
-->

<config>

<!--
<argument>
    <name>!&lt;cr&gt;</name>
    <help></help>
</argument>
-->

<command>
    <name>create</name>

    <command>
        <name>stacking</name>
        <help>Create objects for stacking switches</help>

        <command>
            <name>forwarding-rule</name>
            <help>Create a forwarding rule for stacking</help>
            <handler>tpCreateForwardingRule</handler>

            <argument>
                <name>!&lt;glort&gt;</name>
                <help>The glort value to forward</help>

                <argument>
                    <name>!&lt;mask&gt;</name>
                    <help>The associated glort mask</help>

                    <argument>
                        <name>!&lt;port&gt;</name>
                        <help>The logical port to forward to</help>

                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Create a forwarding rule for stacking</help>
                        </argument>

                    </argument>

                </argument>

            </argument>

        </command>

        <command>
            <name>logical-port</name>
            <help>Create a logical port for stacking</help>
            <handler>tpCreateStackLogicalPort</handler>

            <argument>
                <name>!&lt;glort&gt;</name>
                <help>The glort value to associate</help>

                <argument>
                    <name>!&lt;cr&gt;</name>
                    <help>Associate a logical port number with a glort</help>
                </argument>

            </argument>

        </command>
    </command>
</command>

<command>
    <name>del</name>

    <command>
        <name>stacking</name>
        <help>Delete objects for stacking switches</help>

        <command>
            <name>forwarding-rule</name>
            <help>Delete a forwarding rule for stacking</help>
            <handler>tpDeleteForwardingRule</handler>

            <argument>
                <name>!&lt;id&gt;</name>
                <help>The forwarding rule ID to delete</help>

                <argument>
                    <name>!&lt;cr!&gt;</name>
                    <help>Delete a forwarding rule for stacking</help>
                </argument>

            </argument>

        </command>
        <command>
            <name>logical-port</name>
            <help>Delete a logical port for stacking</help>
            <handler>tpDeleteStackLogicalPort</handler>

            <argument>
                <name>!&lt;logical-port&gt;</name>
                <help>The logucal port to delete</help>

                <argument>
                    <name>!&lt;cr&gt;</name>
                    <help>Delete a logical port to glort association.</help>
                </argument>

            </argument>

        </command>

    </command>
</command>

<command>
    <name>set</name>

    <command>
        <name>stacking</name>
        <help>Set switch stacking parameters</help>

        <command>
            <name>internal-port</name>
            <help>Configure a port as internal</help>
            <handler>tpSetStackInternalPort</handler>

              <argument>
              <name>!&lt;port&gt;</name>
              <help>Set the port</help>

                  <argument>
                  <name>!&lt;cr&gt;</name>
                  <help>Configure a port as internal</help>
                  </argument>

              </argument>

        </command>

        <command>
            <name>glort-range</name>
            <help>Set glort range for the given switch (requires chip reset, if up)</help>
            <handler>tpSetStackGlortRange</handler>

              <argument>
              <name>!&lt;switch&gt;</name>
              <help>The switch number</help>
              
                <argument>
                <name>!&lt;glort&gt;</name>
                <help>Set the glort value used</help>

                  <argument>
                  <name>!&lt;mask&gt;</name>
                  <help>Set the glort mask used</help>

                      <argument>
                      <name>!&lt;cr&gt;</name>
                      <help>Configure the glort mask used for this forwarding rule</help>
                      </argument>

                  </argument>

                </argument>

            </argument>

        </command>

        <command>
            <name>forwarding-rule</name>
            <help>Set properties of an existing forwarding rule</help>
            <handler>tpSetForwardingRuleConfig</handler>

            <argument>
                <name>!&lt;id&gt;</name>
                <help>The forwarding rule ID to configure</help>

                <argument>
                    <name>glort</name>
                    <help>Set the glort value used</help>

                    <argument>
                        <name>!&lt;glort&gt;</name>
                        <help>Set the glort value used</help>

                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure the glort value used for this forwarding rule</help>
                        </argument>

                    </argument>

                </argument>

                <argument>
                    <name>mask</name>
                    <help>Set the glort mask used</help>

                    <argument>
                        <name>!&lt;mask&gt;</name>
                        <help>Set the glort mask used</help>

                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure the glort mask used for this forwarding rule</help>
                        </argument>

                    </argument>

                </argument>

                <argument>
                    <name>port</name>
                    <help>Set the logical port used</help>

                    <argument>
                        <name>!&lt;mask&gt;</name>
                        <help>Set the logical port used</help>

                        <argument>
                            <name>!&lt;cr&gt;</name>
                            <help>Configure the logical port used for this forwarding rule</help>
                        </argument>

                    </argument>

                </argument>

            </argument>

        </command>

    </command>
</command>

<command>
    <name>show</name>

    <command>
        <name>stacking</name>
        <help>Show switch stacking parameters</help>

        <command>
            <name>glort-range</name>
            <help>Show the glort range for this switch</help>
            <handler>tpShowStackGlortRange</handler>
            <argument>
                <name>!&lt;cr&gt;</name>
                <help>Show the glort range for this switch</help>
            </argument>
        </command>

        <command>
            <name>glort</name>
            <help>Show the glort for the given logical port(s)</help>
            <handler>tpShowStackGlort</handler>
            <argument>
                <name>!&lt;logical port(s)&gt;</name>
                <help>The list of logical ports to lookup</help>

                <argument>
                    <name>!&lt;cr&gt;</name>
                    <help>Show the glort for the given logical ports(s)</help>
                </argument>
            </argument>
        </command>

        <command>
            <name>logical-port</name>
            <help>Show the logical port for the given glort(s)</help>
            <handler>tpShowLogicalPort</handler>
            <argument>
                <name>!&lt;glort(s)&gt;</name>
                <help>The list of glorts to lookup</help>

                <argument>
                    <name>!&lt;cr&gt;</name>
                    <help>Show the logical port for the given glort(s)</help>
                </argument>
            </argument>
        </command>

        <command>
            <name>forwarding-rule</name>
            <help>Show all stacking forwarding rules</help>
            <handler>tpShowForwardingRules</handler>

            <argument>
                <name>!&lt;cr&gt;</name>
                <help>Show all stacking forwarding rules</help>
            </argument>
        </command>
    </command>
</command>

</config>
